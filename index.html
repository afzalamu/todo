<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Weekly Fat-Loss & Strength Plan — PG + 9-5</title>
<style>
  :root {
    --bg:#0f1724;
    --card:#0b1220;
    --accent:#4fd1c5;
    --muted:#9aa4b2;
    --text:#e6eef6;
    --pill:#15212b;
  }
  body {
    font-family: Inter, system-ui, Segoe UI, Helvetica, Arial;
    background: linear-gradient(180deg, #071022 0%, #0b1220 100%);
    color: var(--text);
    margin: 0;
    padding: 28px;
  }
  .wrap { max-width: 980px; margin: 0 auto; }
  header { display: flex; align-items: center; gap: 16px; margin-bottom: 18px; }
  header h1 { font-size: 20px; margin: 0; }
  header p { margin: 0; color: var(--muted); font-size: 13px; }
  .days { display: flex; gap: 12px; overflow-x: auto; scroll-behavior: smooth; }
  .day {
    background: var(--card);
    border-radius: 18px;
    padding: 18px;
    min-width: 240px;
    flex-shrink: 0;
    box-shadow: 0 4px 14px rgba(0,0,0,0.3);
    transition: transform 0.2s ease;
  }
  .day:hover { transform: translateY(-2px); }
  .day.today { border: 2px solid var(--accent); }
  .day h2 {
    font-size: 16px;
    color: var(--accent);
    margin: 0 0 8px;
    text-transform: uppercase;
  }
  .day p {
    background: var(--pill);
    border-radius: 10px;
    padding: 8px;
    font-size: 13px;
    line-height: 1.4;
    cursor: text;
    outline: none;
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Weekly Fat-Loss & Strength Plan</h1>
    <p>Editable — saves for today, resets daily</p>
  </header>

  <div class="days" id="days"></div>
</div>

<script>
const defaultPlan = {
  Monday: "🏋️‍♂️ Strength: Push day (Chest, Shoulders, Triceps)\n🥗 Meals: High-protein, low-carb\n🧘 Recovery: Stretch 10 min",
  Tuesday: "🚴 Cardio: 40 min cycling\n🍳 Meals: Balanced macros\n💧 Hydration focus",
  Wednesday: "🏋️‍♂️ Strength: Pull day (Back, Biceps)\n🥗 Meals: Protein + veggies\n🧘 Yoga 15 min",
  Thursday: "🦵 Leg day: Squats, Lunges, Calf raises\n🥗 Meals: Carbs allowed pre-workout\n🧠 Journaling night",
  Friday: "💪 Full body circuit (30 min)\n🍗 Lean protein meals\n🎧 Relax evening",
  Saturday: "🧘 Recovery: Light stretching or walk\n🍉 Hydration & fruit day\n📚 Learning or side project",
  Sunday: "🚶‍♂️ Morning walk\n🍽️ Cheat meal allowed\n🛌 Rest early for next week"
};

const container = document.getElementById("days");
const todayIndex = new Date().getDay(); // 0 = Sunday
const daysOfWeek = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
const todayName = daysOfWeek[todayIndex];

// localStorage key based on today's date
const todayKey = "plan-" + new Date().toLocaleDateString();

function loadPlan() {
  // If stored date differs from today, clear old data
  const storedDate = localStorage.getItem("plan-date");
  if (storedDate !== new Date().toLocaleDateString()) {
    localStorage.clear();
    localStorage.setItem("plan-date", new Date().toLocaleDateString());
  }

  daysOfWeek.forEach(day => {
    const saved = localStorage.getItem(day) || defaultPlan[day];
    const div = document.createElement("div");
    div.className = "day" + (day === todayName ? " today" : "");
    div.innerHTML = `<h2>${day}</h2><p contenteditable="true">${saved}</p>`;
    const p = div.querySelector("p");
    p.addEventListener("input", () => {
      localStorage.setItem(day, p.innerText);
    });
    container.appendChild(div);
  });
}

function scrollToToday() {
  const todayCard = document.querySelector(".day.today");
  if (todayCard) todayCard.scrollIntoView({ behavior: "smooth", inline: "center" });
}

loadPlan();
scrollToToday();
</script>

</body>
</html>
